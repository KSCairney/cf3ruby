<p id="notice"><%= notice %></p>

<div class="shown row" data-product-id ="<%= @product.id%>">
<%= image_tag(@product.image_url, data_zoom_image: @product.image_url, width: "350", class: "img-responsive img-zoom") %>
<% cache @product do %>
  <p class="shown">
    <strong>Name:</strong>
    <%= @product.name %>
  </p>
  
  <p class="shown">
    <strong>Description:</strong>
    <%= @product.description %>
  </p>
<% end %>

<p class="shown">
  <strong>Image url:</strong>
  <%= @product.image_url %>
</p>

<p class="shown">
  <strong>Colour:</strong>
  <%= @product.colour %>
</p>

<p class="shown">
  <strong>Price:</strong>
  $<%= @product.price %>
</p>

<p class="shown">
  <strong>Views:</strong>
  <span class="badge">
    <%= @product.views %>
  </span>
</p>

<%= form_tag(url: '/payments/create') do |form| %>
  <%= render partial: "shared/stripe_checkout_button" %>
<% end %>

<p class="shown">Average Rating: <div class="rated shown" id="average_rating" data-score="<%= @product.average_rating %>"></div></p>
<br>
<br>
<%= render 'new_comment' %>
<br>
<div class="alert alert-info" style="display:none" role="alert">A new comment was posted!</div>
<br>
<%= render 'comments' %>
<br>

<%= link_to 'Edit', edit_product_path(@product) %> |
<%= link_to 'Back', products_path %>

</div>
